<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
    <script src="functions.js"></script>
  </head>
  <body>
    <button>Refresh</button>
    <section></section>
    <script>

      $(document).ready(function(){
        var $body = $('body');
        //$body.html('');
        var $section = $('section');
        displayTweets();

        $('button').on('click', displayTweets);

        function displayTweets(){
          $section.html('');                //clear old data
          var index = streams.home.length-1;
          while(index >=0){
            var tweet = streams.home[index];
            var $tweet = $('<div></div>');
            $tweet.appendTo($section);      //Add tweet to bottom of <section>
            
            var $user = $('<span class="user"></span>');
            $user.text('@' + tweet.user);
            $user.appendTo($tweet);

            var $message = $('<span></span>');
            $message.text(tweet.message);
            $message.appendTo($tweet);

            var $timestamp = $('<p></p>');
            $timestamp.text('Tweeted on ' + tweet.created_at);
            $timestamp.appendTo($tweet);                           //Add timestamp below accompanying tweet
            index -= 1;
          }
        }

      });

    </script>
  </body>
</html>
