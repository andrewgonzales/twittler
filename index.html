<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
  </head>
  <body>
    <button>Refresh</button>
    <section></section>
    <script>

      $(document).ready(function(){
        var $body = $('body');
        //$body.html('');
        var $section = $('section');
        displayTweets();

        $('button').on('click', displayTweets);

        function displayTweets(){
          $section.html('');                //clear old data
          var length = streams.home.length
          var index = 0;
          while(index <= length-1){
            var tweet = streams.home[index];
            var $tweet = $('<div></div>');
            $tweet.text('@' + tweet.user + ': ' + tweet.message);
            $tweet.prependTo($section);                            //Add tweet to top of <section>

            var timestamp = $('<p></p>');
            timestamp.text('Tweeted on ' + tweet.created_at);
            timestamp.appendTo($tweet);                           //Add timestamp below accompanying tweet
            index += 1;
          }
        }

      });

    </script>
  </body>
</html>
